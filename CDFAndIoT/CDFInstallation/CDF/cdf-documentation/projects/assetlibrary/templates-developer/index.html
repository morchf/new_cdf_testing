



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.4">
    
    
      
        <title>ASSET LIBRARY:  Templates (Developer) - Connected Device Framework (CDF)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#asset-library-templates-developer" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="Connected Device Framework (CDF)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Connected Device Framework (CDF)
              </span>
              <span class="md-header-nav__topic">
                ASSET LIBRARY:  Templates (Developer)
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="Connected Device Framework (CDF)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Connected Device Framework (CDF)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="CONNECTED DEVICE FRAMEWORK (CDF)" class="md-nav__link">
      CONNECTED DEVICE FRAMEWORK (CDF)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Advanced
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../advanced/cicd/" title="CI/CD" class="md-nav__link">
      CI/CD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../advanced/deployment/" title="Deployment" class="md-nav__link">
      Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../advanced/" title="Advanced Track" class="md-nav__link">
      Advanced Track
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Beginner
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Beginner
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../beginner/" title="Beginner Track" class="md-nav__link">
      Beginner Track
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/async/" title="Asynchronous Operations" class="md-nav__link">
      Asynchronous Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/config/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/dependency-injection/" title="Dependency Injection" class="md-nav__link">
      Dependency Injection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/prerequisites/" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/quickstart/" title="Development Getting Started" class="md-nav__link">
      Development Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/tech-stack/" title="Tech Stack" class="md-nav__link">
      Tech Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/unit-testing/" title="Unit testing" class="md-nav__link">
      Unit testing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Intermediate
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Intermediate
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../intermediate/" title="Intermediate Track" class="md-nav__link">
      Intermediate Track
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Postman
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Postman
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../postman/" title="Postman" class="md-nav__link">
      Postman
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Projects
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Projects
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/" title="Connected Device Framework" class="md-nav__link">
      Connected Device Framework
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2" checked>
    
    <label class="md-nav__link" for="nav-7-2">
      Assetlibrary
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        Assetlibrary
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../assetlibrary-swagger/" title="Connected Device Framework: Asset Library" class="md-nav__link">
      Connected Device Framework: Asset Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../events/" title="ASSET LIBRARY EVENTS" class="md-nav__link">
      ASSET LIBRARY EVENTS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fine-grained-access-control/" title="ASSET LIBRARY FINE-GRAINED ACCESS CONTROL" class="md-nav__link">
      ASSET LIBRARY FINE-GRAINED ACCESS CONTROL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modes/" title="ASSET LIBRARY MODES" class="md-nav__link">
      ASSET LIBRARY MODES
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="ASSET LIBRARY OVERVIEW" class="md-nav__link">
      ASSET LIBRARY OVERVIEW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../profiles/" title="ASSET LIBRARY:  Profiles" class="md-nav__link">
      ASSET LIBRARY:  Profiles
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        ASSET LIBRARY:  Templates (Developer)
      </label>
    
    <a href="./" title="ASSET LIBRARY:  Templates (Developer)" class="md-nav__link md-nav__link--active">
      ASSET LIBRARY:  Templates (Developer)
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-validation" title="Schema Validation" class="md-nav__link">
    Schema Validation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#domain-model" title="Domain Model" class="md-nav__link">
    Domain Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-layer" title="Data Layer" class="md-nav__link">
    Data Layer
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-a-new-template-has-been-created" title="Step 1:  A new template has been created" class="md-nav__link">
    Step 1:  A new template has been created
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-a-template-has-been-published" title="Step 2:  A template has been published" class="md-nav__link">
    Step 2:  A template has been published
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-a-template-is-edited" title="Step 3:  A template is edited" class="md-nav__link">
    Step 3:  A template is edited
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-an-edited-template-is-published" title="Step 4:  An edited template is published" class="md-nav__link">
    Step 4:  An edited template is published
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-a-template-is-edited-again" title="Step 5:  A template is edited again" class="md-nav__link">
    Step 5:  A template is edited again
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-onwards" title="Step 6 onwards..." class="md-nav__link">
    Step 6 onwards...
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#declared-relations-between-templates" title="Declared relations between templates" class="md-nav__link">
    Declared relations between templates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-queries" title="Example queries" class="md-nav__link">
    Example queries
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../templates-user/" title="Templates user" class="md-nav__link">
      Templates user
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      Assetlibrary history
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        Assetlibrary history
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../assetlibrary-history/assetlibraryhistory-swagger/" title="Assetlibraryhistory swagger" class="md-nav__link">
      Assetlibraryhistory swagger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../assetlibrary-history/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      Auth devicecert
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-4">
        Auth devicecert
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../auth-devicecert/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-5" type="checkbox" id="nav-7-5">
    
    <label class="md-nav__link" for="nav-7-5">
      Bulkcerts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-5">
        Bulkcerts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../bulkcerts/bulkcerts-swagger/" title="Bulkcerts swagger" class="md-nav__link">
      Bulkcerts swagger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../bulkcerts/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-6" type="checkbox" id="nav-7-6">
    
    <label class="md-nav__link" for="nav-7-6">
      Certificateactivator
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-6">
        Certificateactivator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../certificateactivator/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7" type="checkbox" id="nav-7-7">
    
    <label class="md-nav__link" for="nav-7-7">
      Certificatevendor
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-7">
        Certificatevendor
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../certificatevendor/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-8" type="checkbox" id="nav-7-8">
    
    <label class="md-nav__link" for="nav-7-8">
      Commands
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-8">
        Commands
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/commands-swagger/" title="Commands swagger" class="md-nav__link">
      Commands swagger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/ephemeral-groups/" title="Ephemeral groups" class="md-nav__link">
      Ephemeral groups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/presigned-urls-developer/" title="Presigned urls developer" class="md-nav__link">
      Presigned urls developer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/presigned-urls-user/" title="Presigned urls user" class="md-nav__link">
      Presigned urls user
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-9" type="checkbox" id="nav-7-9">
    
    <label class="md-nav__link" for="nav-7-9">
      Devicemonitoring
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-9">
        Devicemonitoring
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../devicemonitoring/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-10" type="checkbox" id="nav-7-10">
    
    <label class="md-nav__link" for="nav-7-10">
      Libraries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-10">
        Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../libraries/README/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-11" type="checkbox" id="nav-7-11">
    
    <label class="md-nav__link" for="nav-7-11">
      Notifications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-11">
        Notifications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../notifications/design/" title="Design" class="md-nav__link">
      Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notifications/events-processor-swagger/" title="Events processor swagger" class="md-nav__link">
      Events processor swagger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notifications/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notifications/walkthrough/" title="Walkthrough" class="md-nav__link">
      Walkthrough
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-12" type="checkbox" id="nav-7-12">
    
    <label class="md-nav__link" for="nav-7-12">
      Provisioning
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-12">
        Provisioning
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../provisioning/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../provisioning/provisioning-swagger/" title="Provisioning swagger" class="md-nav__link">
      Provisioning swagger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../provisioning/provisioning-templates/" title="Provisioning templates" class="md-nav__link">
      Provisioning templates
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-13" type="checkbox" id="nav-7-13">
    
    <label class="md-nav__link" for="nav-7-13">
      Request queue
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-13">
        Request queue
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../request-queue/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-validation" title="Schema Validation" class="md-nav__link">
    Schema Validation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#domain-model" title="Domain Model" class="md-nav__link">
    Domain Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-layer" title="Data Layer" class="md-nav__link">
    Data Layer
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-a-new-template-has-been-created" title="Step 1:  A new template has been created" class="md-nav__link">
    Step 1:  A new template has been created
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-a-template-has-been-published" title="Step 2:  A template has been published" class="md-nav__link">
    Step 2:  A template has been published
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-a-template-is-edited" title="Step 3:  A template is edited" class="md-nav__link">
    Step 3:  A template is edited
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-an-edited-template-is-published" title="Step 4:  An edited template is published" class="md-nav__link">
    Step 4:  An edited template is published
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-a-template-is-edited-again" title="Step 5:  A template is edited again" class="md-nav__link">
    Step 5:  A template is edited again
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-onwards" title="Step 6 onwards..." class="md-nav__link">
    Step 6 onwards...
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#declared-relations-between-templates" title="Declared relations between templates" class="md-nav__link">
    Declared relations between templates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-queries" title="Example queries" class="md-nav__link">
    Example queries
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="asset-library-templates-developer">ASSET LIBRARY:  Templates (Developer)<a class="headerlink" href="#asset-library-templates-developer" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>The following describes the implementation of the asset library templating.  Review the <a href="../templates-user/">Templates (User)</a> page for details of how to use the templating features from a users point of view.</p>
<h2 id="schema-validation">Schema Validation<a class="headerlink" href="#schema-validation" title="Permanent link">&para;</a></h2>
<p><a href="http://json-schema.org/specification.html">JSON Schema (Draft 7)</a> is being utilized to manage the validation of both the creation of the group/device templates, as well as instances of those templates.</p>
<p>There are 3 top-level categories of templates, each with their own JSON Schema:</p>
<ul>
<li>Groups (see <code>/src/types/definitions/group.schema.json</code>)</li>
<li>Devices (see <code>/src/types/definitions/device.schema.json</code>)</li>
<li>Components (see <code>/src/types/definitions/component.schema.json</code>)</li>
</ul>
<p>When defining a custom type, the group/device template is validated against the JSON schema <code>/src/types/definitions/specializedTypeDefinition.schema.json</code>.</p>
<p>When instances of a template are created/updated (e.g creating a new <code>mote</code> device) the top-level category JSON Schema (e.g. <code>device</code>) is merged with the schema definition of the custom template (e..g <code>mote</code>) in order to provide a template specific JSON schema to validate the group/device.</p>
<p>When a device has been configured to allow components, an extra step is taken in the validation.  In addition to the custom template schema being merged with the device JSON Schema, the JSON Schema for each allowed component type is merged with it also, thus allowing for the validation of the creation of the device and its components in one step.</p>
<h2 id="domain-model">Domain Model<a class="headerlink" href="#domain-model" title="Permanent link">&para;</a></h2>
<p>The template information exposed via the API's is modelled as follows:</p>
<p><img alt="TypesResource" src="../images/Asset Library - Types Resource.png" /></p>
<p>The data is stored in the database as follows:</p>
<h2 id="data-layer">Data Layer<a class="headerlink" href="#data-layer" title="Permanent link">&para;</a></h2>
<p>Templates have a life cycle of <code>draft</code> to <code>published</code>, along with versioning included.  </p>
<p>Types are defined as a vertex labelled <code>&lt;&lt;type&gt;&gt;</code>, with their corresponding versioned definitions defined as vertices labelled <code>&lt;&lt;typeDefintion&gt;&gt;</code>.  There can be only two current definitions of a type:  <code>draft</code> and <code>published</code>, each associated to the type via a <code>&lt;&lt;current_definition&gt;&gt;</code> edge.  Any old defintions are associated via an <code>&lt;&lt;expired_definition&gt;&gt;</code> edge.</p>
<p>The life cycle of a group/device template as far as the database is concerned is as follows:</p>
<h3 id="step-1-a-new-template-has-been-created">Step 1:  A new template has been created<a class="headerlink" href="#step-1-a-new-template-has-been-created" title="Permanent link">&para;</a></h3>
<p><img alt="Step 1" src="../images/Asset Library - Templates data - 1.png" /></p>
<p>A new <code>&lt;&lt;type&gt;&gt;</code> vertex is created, and associated to the top level category via a <code>&lt;&lt;super_type&gt;&gt;</code> edge.  A new <code>&lt;&lt;type_definition&gt;&gt;</code> vertex is created, and associated to the <code>&lt;&lt;type&gt;&gt;</code> via a <code>&lt;&lt;current_definition&gt;&gt;</code> edge.  The <code>&lt;&lt;current_definition&gt;&gt;</code> edge has a status of <code>draft</code>.</p>
<h3 id="step-2-a-template-has-been-published">Step 2:  A template has been published<a class="headerlink" href="#step-2-a-template-has-been-published" title="Permanent link">&para;</a></h3>
<p><img alt="Step 2" src="../images/Asset Library - Templates data - 2.png" /></p>
<p>The <code>status</code> of the <code>&lt;&lt;current_definition&gt;&gt;</code> is updated from <code>draft</code> to <code>published</code>.</p>
<h3 id="step-3-a-template-is-edited">Step 3:  A template is edited<a class="headerlink" href="#step-3-a-template-is-edited" title="Permanent link">&para;</a></h3>
<p><img alt="Step 3" src="../images/Asset Library - Templates data - 3.png" /></p>
<p>A new <code>&lt;&lt;typeDefinition&gt;&gt;</code> vertex is created and associated to the <code>&lt;&lt;type&gt;&gt;</code> vertex via a new <code>&lt;&lt;current_definition&gt;&gt;</code> edge.  The <code>&lt;&lt;current_definition&gt;&gt;</code> edge has a <code>status</code> of <code>draft</code>.</p>
<h3 id="step-4-an-edited-template-is-published">Step 4:  An edited template is published<a class="headerlink" href="#step-4-an-edited-template-is-published" title="Permanent link">&para;</a></h3>
<p><img alt="Step 4" src="../images/Asset Library - Templates data - 4.png" /></p>
<p>The existing <code>&lt;&lt;current_definition&gt;&gt;</code> edge that had a <code>status</code> of <code>published</code> is deleted and replaced with a new <code>&lt;&lt;expired_definition&gt;&gt;</code> edge.</p>
<p>The existing <code>&lt;&lt;current_definition&gt;&gt;</code> edge that has a <code>status</code> of <code>draft</code> is updated to a <code>status</code> of <code>published</code>.</p>
<h3 id="step-5-a-template-is-edited-again">Step 5:  A template is edited again<a class="headerlink" href="#step-5-a-template-is-edited-again" title="Permanent link">&para;</a></h3>
<p><img alt="Step 5" src="../images/Asset Library - Templates data - 5.png" /></p>
<p>A new <code>&lt;&lt;typeDefinition&gt;&gt;</code> vertex is created and associated to the <code>&lt;&lt;type&gt;&gt;</code> vertex via a new <code>&lt;&lt;current_definition&gt;&gt;</code> edge.  The <code>&lt;&lt;current_definition&gt;&gt;</code> edge has a <code>status</code> of <code>draft</code>.</p>
<h3 id="step-6-onwards">Step 6 onwards...<a class="headerlink" href="#step-6-onwards" title="Permanent link">&para;</a></h3>
<p>The cycle is repeated.</p>
<h3 id="declared-relations-between-templates">Declared relations between templates<a class="headerlink" href="#declared-relations-between-templates" title="Permanent link">&para;</a></h3>
<p>When a template is declared with relations to other templates (e.g. a <code>mote</code> device can only be associated to a <code>site</code> group via an <code>located_at</code> relationship), this relationship is defined on the type related vertices as follows:</p>
<p><img alt="Relations" src="../images/Asset Library - Templates data - relations.png" /></p>
<p>A new <code>&lt;&lt;relationship&gt;&gt;</code> edge is added between the source and target templates.  This allows for fast and efficient validation of relationships at the database level.</p>
<h2 id="example-queries">Example queries<a class="headerlink" href="#example-queries" title="Permanent link">&para;</a></h2>
<p>Retrieving the draft version of a template, including its defined relations:</p>
<div class="highlight"><pre><span></span><span class="nx">g</span><span class="p">.</span><span class="nx">V</span><span class="p">(</span><span class="s1">&#39;type___mote&#39;</span><span class="p">).</span><span class="nx">as</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">).</span>
    <span class="nx">outE</span><span class="p">(</span><span class="s1">&#39;current_definition&#39;</span><span class="p">).</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;draft&#39;</span><span class="p">).</span><span class="nx">inV</span><span class="p">().</span><span class="nx">as</span><span class="p">(</span><span class="s1">&#39;definition&#39;</span><span class="p">).</span>
    <span class="nx">project</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span><span class="s1">&#39;definition&#39;</span><span class="p">,</span><span class="s1">&#39;relations&#39;</span><span class="p">).</span>
        <span class="nx">by</span><span class="p">(</span><span class="nx">__</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">).</span><span class="nx">valueMap</span><span class="p">(</span><span class="kc">true</span><span class="p">)).</span>
        <span class="nx">by</span><span class="p">(</span><span class="nx">__</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;definition&#39;</span><span class="p">).</span><span class="nx">valueMap</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">fold</span><span class="p">()).</span>
        <span class="nx">by</span><span class="p">(</span><span class="nx">__</span><span class="p">.</span><span class="nx">bothE</span><span class="p">(</span><span class="s1">&#39;relationship&#39;</span><span class="p">).</span><span class="nx">valueMap</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">fold</span><span class="p">());</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../profiles/" title="ASSET LIBRARY:  Profiles" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ASSET LIBRARY:  Profiles
              </span>
            </div>
          </a>
        
        
          <a href="../templates-user/" title="Templates user" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Templates user
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.30f6b8b1.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:"../../.."}})</script>
      
    
    
      
    
  </body>
</html>